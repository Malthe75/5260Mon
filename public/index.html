<!doctype html>
<html>
  <head>
    <title>Turn-Based Game Test</title>
  </head>

  <body>
    <h1>Simple Game UI</h1>
    <ul id="player1Actions" style="background-color: lightblue">
      <li><button id="player1">Attack</button></li>
      <li><button id="player1S">Roast</button></li>
      <li><button id="player1SS">Drink</button></li>
      <li><button id="player1SSS">RUN</button></li>
    </ul>

    <ul id="player2Actions" style="background-color: blue" hidden>
      <li><button id="player2">Attack</button></li>
      <li><button id="player2S">Roast</button></li>
      <li><button id="player2SS">Drink</button></li>
      <li><button id="player2SSS">Run away!!!</button></li>
    </ul>

    <div id="log"></div>

    <!-- Socket.IO client script -->
    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io('http://localhost:3000') // adjust if needed

      // Send action
      document.getElementById('player1').addEventListener('click', () => {
        document.getElementById('player1Actions').hidden = true
        document.getElementById('player2Actions').hidden = false
        socket.emit('player1Move', { action: 'attack' })
      })
      document.getElementById('player2').addEventListener('click', () => {
        document.getElementById('player2Actions').hidden = true
        document.getElementById('player1Actions').hidden = false
        socket.emit('player2Move', { action: 'attack' })
      })

      // Listen for updates
      socket.on('gameUpdate', (state) => {
        document.getElementById('log').innerText =
          `It's now ${state.currentPlayer}'s turn. Last move: ${state.lastMove}`
      })

      // Optional: listen for connection events
      socket.on('connect', () => {
        console.log('Connected to game server!')
      })
    </script>
  </body>
</html>
